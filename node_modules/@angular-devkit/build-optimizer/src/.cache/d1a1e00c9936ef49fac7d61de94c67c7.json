{"remainingRequest":"D:\\AHLinesUI\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!D:\\AHLinesUI\\node_modules\\rxjs\\_esm5\\internal\\operators\\delay.js","dependencies":[{"path":"D:\\AHLinesUI\\node_modules\\rxjs\\_esm5\\internal\\operators\\delay.js","mtime":499162500000},{"path":"D:\\AHLinesUI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1522837491125},{"path":"D:\\AHLinesUI\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_Subscriber,_Notification PURE_IMPORTS_END */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { async } from '../scheduler/async';\r\nimport { isDate } from '../util/isDate';\r\nimport { Subscriber } from '../Subscriber';\r\nimport { Notification } from '../Notification';\r\nexport function delay(delay, scheduler) {\r\n    if (scheduler === void 0) {\r\n        scheduler = async;\r\n    }\r\n    var absoluteDelay = isDate(delay);\r\n    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\r\n    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };\r\n}\r\nvar DelayOperator = /*@__PURE__*/ (function () {\r\n    function DelayOperator(delay, scheduler) {\r\n        this.delay = delay;\r\n        this.scheduler = scheduler;\r\n    }\r\n    DelayOperator.prototype.call = function (subscriber, source) {\r\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\r\n    };\r\n    return DelayOperator;\r\n}());\r\nvar DelaySubscriber = (function (_super) {\r\n    tslib_1.__extends(DelaySubscriber, _super);\r\n    function DelaySubscriber(destination, delay, scheduler) {\r\n        var _this = _super.call(this, destination) || this;\r\n        _this.delay = delay;\r\n        _this.scheduler = scheduler;\r\n        _this.queue = [];\r\n        _this.active = false;\r\n        _this.errored = false;\r\n        return _this;\r\n    }\r\n    DelaySubscriber.dispatch = function (state) {\r\n        var source = state.source;\r\n        var queue = source.queue;\r\n        var scheduler = state.scheduler;\r\n        var destination = state.destination;\r\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\r\n            queue.shift().notification.observe(destination);\r\n        }\r\n        if (queue.length > 0) {\r\n            var delay_1 = Math.max(0, queue[0].time - scheduler.now());\r\n            this.schedule(state, delay_1);\r\n        }\r\n        else {\r\n            this.unsubscribe();\r\n            source.active = false;\r\n        }\r\n    };\r\n    DelaySubscriber.prototype._schedule = function (scheduler) {\r\n        this.active = true;\r\n        this.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\r\n            source: this, destination: this.destination, scheduler: scheduler\r\n        }));\r\n    };\r\n    DelaySubscriber.prototype.scheduleNotification = function (notification) {\r\n        if (this.errored === true) {\r\n            return;\r\n        }\r\n        var scheduler = this.scheduler;\r\n        var message = new DelayMessage(scheduler.now() + this.delay, notification);\r\n        this.queue.push(message);\r\n        if (this.active === false) {\r\n            this._schedule(scheduler);\r\n        }\r\n    };\r\n    DelaySubscriber.prototype._next = function (value) {\r\n        this.scheduleNotification(Notification.createNext(value));\r\n    };\r\n    DelaySubscriber.prototype._error = function (err) {\r\n        this.errored = true;\r\n        this.queue = [];\r\n        this.destination.error(err);\r\n    };\r\n    DelaySubscriber.prototype._complete = function () {\r\n        this.scheduleNotification(Notification.createComplete());\r\n    };\r\n    return DelaySubscriber;\r\n}(Subscriber));\r\nvar DelayMessage = /*@__PURE__*/ (function () {\r\n    function DelayMessage(time, notification) {\r\n        this.time = time;\r\n        this.notification = notification;\r\n    }\r\n    return DelayMessage;\r\n}());\r\n//# sourceMappingURL=delay.js.map\r\n",null]}